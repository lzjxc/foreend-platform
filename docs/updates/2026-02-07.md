# Documentation Update - 2026-02-07

## Summary

Redesigned the Documentation Center page from a flat table layout to a hierarchical service-layer-grouped layout. Also enhanced the financial trends component with real-time summary data merging.

## Changes

### src/pages/docs.tsx - Complete Rewrite
- **Removed**: Flat table layout, `DocCategory` filter (development/deployment/operations/architecture/general)
- **Added**: Service layer grouping system with 6 layers:
  - `global` - Docs without service_id (global specs, error records, system architecture)
  - `shared` - Shared services / middleware (config-service, data-fetcher, file-gateway, llm-gateway, pdf-service, efficiency-evaluator, finance-service)
  - `apps` - Business applications (ai-weekly, bill-parser, homework, wordbook, starling)
  - `game` - Game projects (game-weekly)
  - `personal` - Personal services (personal-info, foreend-platform)
  - `other` - Unknown service_ids (fallback)
- **Added**: `ServiceCard` component - card per service showing its docs with type badges
- **Added**: `LayerSection` component - collapsible section per layer with responsive grid
- **Added**: Expand/collapse all toggle button
- **Added**: Relative time display using `date-fns formatDistanceToNow` with Chinese locale
- **Added**: Enhanced document viewer dialog with service/version/update metadata
- **Fixed**: API limit from 200 to 100 (backend enforces max 100)

### src/components/financial/financial-trends.tsx
- **Added**: `mergeTrendWithSummary()` helper function
- **Improved**: Chart data now merges latest summary price with historical trend data
- **Improved**: `latestPrice` prefers summary over trend for accuracy

### CLAUDE.md
- **Updated**: Last update date to 2026-02-07
- **Added**: Change log entry for this iteration

### README.md
- **Updated**: Documentation Center feature description to mention service layer grouping
